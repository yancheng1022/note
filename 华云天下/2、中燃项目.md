

对接组织架构、数据应该是定时同步、实现单点登录。数据权限，要按照人员角色来划分

# 1、应用系统集成

身份主数据分发（员工、机构、岗位）
开通/回收应用系统账号
单点登录集成


# 2、IMA身份主数据定时同步集成规范

1.身份主数据接口服务
http://172.26.0.137:6011/services/2F06402000001    鉴权账号密码需要应用方自行向SOA申请（Basic Auth的鉴权方式）

（1）人员接口字段（RYXX）
（2）组织（部门）接口字段（ZZJG）
（3）人员组织关系接口字段（RYZZGX）
（4）职务（岗位）接口字段（MDM_RYZW_QUERY）
（5）组织-流程角色（LCJS）


# 3、IAM_OAUTH2单点登录协议集成规范

授权码模式（code - token）
简单模式（暴露token）
密码模式（用户向客户端提供用户名密码）
客户端模式（客户端的密钥，id获取token）

## 3.1、流程
1. 用户访问的系统 → 跳转到IAM认证页（带参数）
2. 用户在IAM页登录 → IAM返回`code`到你的回调地址
3. 系统用`code`换取`access_token`
4. 用`access_token`获取用户信息（如用户名、角色等）
5. 用户成功登录系统


1、接口
IAM系统中注册之后会提供client_id和client_secret
1、请求授权接口：https://认证中心域名/idp/authCenter/authenticate
2、获取授权接口：https://认证中心域名/idp/api/v3/oauth2/token
3、刷新授权接口：https://认证中心域名/idp/api/v3/oauth2/token
4、查询授权接口：https://认证中心域名/idp/api/v3/oauth2/tokenInfo
5、回收授权接口：https://认证中心域名/idp/v3/oauth2/revoke
6、授权接口有效性校验：https://认证中心域名/idp/api/v3/oauth2/introspect
7、获取用户信息接口：https://认证中心域名/idp/api/v3/oauth2/userInfo

2、一人多账号

3、逃生机制集成


# 4、问题
1、关于client_id和client_secret的获取，请问具体的申请流程是怎样的？是否需要我们填写正式的申请表单？
2、Token有效期，access_token和refresh_token的默认有效期是多少？是否可以根据应用需求调整